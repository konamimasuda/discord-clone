{"ast":null,"code":"import _slicedToArray from\"/Users/konami/Desktop/dev/udemy/discord-clone-udemy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{onSnapshot,collection,query}from\"firebase/firestore\";import{db}from\"../firebase\";var useCollection=function useCollection(data){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),documents=_useState2[0],setDocuments=_useState2[1];var collectionRef=query(collection(db,data));useEffect(function(){onSnapshot(collectionRef,function(querySnapshot){var channelsResults=[];querySnapshot.docs.forEach(function(doc){return channelsResults.push({id:doc.id,channel:doc.data()});});setDocuments(channelsResults);});},[]);return{documents:documents};};export default useCollection;","map":{"version":3,"names":["useState","useEffect","onSnapshot","collection","query","db","useCollection","data","_useState","_useState2","_slicedToArray","documents","setDocuments","collectionRef","querySnapshot","channelsResults","docs","forEach","doc","push","id","channel"],"sources":["/Users/konami/Desktop/dev/udemy/discord-clone-udemy/src/hooks/useCollection.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  onSnapshot,\n  collection,\n  query,\n  DocumentData,\n  Query,\n} from \"firebase/firestore\";\nimport { db } from \"../firebase\";\n\ninterface Channels {\n  id: string;\n  channel: DocumentData;\n}\n\nconst useCollection = (data: string) => {\n  const [documents, setDocuments] = useState<Channels[]>([]);\n  const collectionRef: Query<DocumentData> = query(collection(db, data));\n\n  useEffect(() => {\n    onSnapshot(collectionRef, (querySnapshot: { docs: any[] }) => {\n      const channelsResults: Channels[] = [];\n      querySnapshot.docs.forEach((doc) =>\n        channelsResults.push({\n          id: doc.id,\n          channel: doc.data(),\n        })\n      );\n      setDocuments(channelsResults);\n    });\n  }, []);\n  return { documents };\n};\n\nexport default useCollection;\n"],"mappings":"yIAAA,OAAgBA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OACEC,UAAU,CACVC,UAAU,CACVC,KAAK,KAGA,oBAAoB,CAC3B,OAASC,EAAE,KAAQ,aAAa,CAOhC,GAAM,CAAAC,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAIC,IAAY,CAAK,CACtC,IAAAC,SAAA,CAAkCR,QAAQ,CAAa,EAAE,CAAC,CAAAS,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnDG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAC9B,GAAM,CAAAI,aAAkC,CAAGT,KAAK,CAACD,UAAU,CAACE,EAAE,CAAEE,IAAI,CAAC,CAAC,CAEtEN,SAAS,CAAC,UAAM,CACdC,UAAU,CAACW,aAAa,CAAE,SAACC,aAA8B,CAAK,CAC5D,GAAM,CAAAC,eAA2B,CAAG,EAAE,CACtCD,aAAa,CAACE,IAAI,CAACC,OAAO,CAAC,SAACC,GAAG,QAC7B,CAAAH,eAAe,CAACI,IAAI,CAAC,CACnBC,EAAE,CAAEF,GAAG,CAACE,EAAE,CACVC,OAAO,CAAEH,GAAG,CAACX,IAAI,EACnB,CAAC,CAAC,GACH,CACDK,YAAY,CAACG,eAAe,CAAC,CAC/B,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CACN,MAAO,CAAEJ,SAAS,CAATA,SAAU,CAAC,CACtB,CAAC,CAED,cAAe,CAAAL,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}