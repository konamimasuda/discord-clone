{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { onSnapshot, collection, query } from \"firebase/firestore\";\nimport { db } from \"../firebase\";\n// import { Query } from \"@testing-library/react\";\n\nconst useCollection = data => {\n  _s();\n  const [documents, setDocuments] = useState([]);\n  const collectionRef = query(collection(db, data));\n  useEffect(() => {\n    onSnapshot(collectionRef, querySnapshot => {\n      const channelsResults = [];\n      querySnapshot.docs.forEach(doc => channelsResults.push({\n        id: doc.id,\n        channel: doc.data()\n      }));\n      setDocuments(channelsResults);\n    });\n  }, []);\n  return {\n    documents\n  };\n};\n_s(useCollection, \"yer53JIs/Enm5EWW99jBywEKfS0=\");\nexport default useCollection;","map":{"version":3,"names":["useState","useEffect","onSnapshot","collection","query","db","useCollection","data","_s","documents","setDocuments","collectionRef","querySnapshot","channelsResults","docs","forEach","doc","push","id","channel"],"sources":["/Users/konami/Desktop/dev/udemy/discord-clone-udemy/src/hooks/useCollection.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  onSnapshot,\n  collection,\n  query,\n  DocumentData,\n  Query,\n} from \"firebase/firestore\";\nimport { db } from \"../firebase\";\n// import { Query } from \"@testing-library/react\";\n\ninterface Channels {\n  id: string;\n  channel: DocumentData;\n}\n\nconst useCollection = (data: string) => {\n  const [documents, setDocuments] = useState<Channels[]>([]);\n  const collectionRef: Query<DocumentData> = query(collection(db, data));\n\n  useEffect(() => {\n    onSnapshot(collectionRef, (querySnapshot: { docs: any[] }) => {\n      const channelsResults: Channels[] = [];\n      querySnapshot.docs.forEach((doc) =>\n        channelsResults.push({\n          id: doc.id,\n          channel: doc.data(),\n        })\n      );\n      setDocuments(channelsResults);\n    });\n  }, []);\n  return { documents };\n};\n\nexport default useCollection;\n"],"mappings":";AAAA,SAAgBA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SACEC,UAAU,EACVC,UAAU,EACVC,KAAK,QAGA,oBAAoB;AAC3B,SAASC,EAAE,QAAQ,aAAa;AAChC;;AAOA,MAAMC,aAAa,GAAIC,IAAY,IAAK;EAAAC,EAAA;EACtC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAa,EAAE,CAAC;EAC1D,MAAMW,aAAkC,GAAGP,KAAK,CAACD,UAAU,CAACE,EAAE,EAAEE,IAAI,CAAC,CAAC;EAEtEN,SAAS,CAAC,MAAM;IACdC,UAAU,CAACS,aAAa,EAAGC,aAA8B,IAAK;MAC5D,MAAMC,eAA2B,GAAG,EAAE;MACtCD,aAAa,CAACE,IAAI,CAACC,OAAO,CAAEC,GAAG,IAC7BH,eAAe,CAACI,IAAI,CAAC;QACnBC,EAAE,EAAEF,GAAG,CAACE,EAAE;QACVC,OAAO,EAAEH,GAAG,CAACT,IAAI;MACnB,CAAC,CAAC,CACH;MACDG,YAAY,CAACG,eAAe,CAAC;IAC/B,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EACN,OAAO;IAAEJ;EAAU,CAAC;AACtB,CAAC;AAACD,EAAA,CAjBIF,aAAa;AAmBnB,eAAeA,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}