{"ast":null,"code":"import _regeneratorRuntime from\"/Users/konami/Desktop/dev/udemy/discord-clone-udemy/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/konami/Desktop/dev/udemy/discord-clone-udemy/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from\"react\";import\"./Sidebar.scss\";import ExpandMoreIcon from\"@mui/icons-material/ExpandMore\";import AddIcon from\"@mui/icons-material/Add\";import SidebarChannel from\"./SidebarChannel\";import MicIcon from\"@mui/icons-material/Mic\";import HeadphonesIcon from\"@mui/icons-material/Headphones\";import SettingsIcon from\"@mui/icons-material/Settings\";import{auth,db}from\"../../firebase\";import{useAppSelector}from\"../../app/hooks\";import useCollection from\"../../hooks/useCollection\";import{collection,addDoc}from\"firebase/firestore\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Sidebar=function Sidebar(){var user=useAppSelector(function(state){return state.user.user;});var _useCollection=useCollection(\"channels\"),channels=_useCollection.documents;var addChannel=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var channelName;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:channelName=prompt(\"新しいチャンネルを作成します\");if(!channelName){_context.next=4;break;}_context.next=4;return addDoc(collection(db,\"channels\"),{channelName:channelName});case 4:case\"end\":return _context.stop();}},_callee);}));return function addChannel(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar__left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"serverIcon\",children:/*#__PURE__*/_jsx(\"span\",{className:\"serverIcon__span\",children:/*#__PURE__*/_jsx(\"img\",{className:\"serverIcon__img\",src:\"./discordIcon.png\",alt:\"React\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"serverIcon\",children:/*#__PURE__*/_jsx(\"span\",{className:\"serverIcon__span\",children:/*#__PURE__*/_jsx(\"img\",{className:\"serverIcon__img\",src:\"./discordIcon.png\",alt:\"React\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar__right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar__top\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Discord\"}),/*#__PURE__*/_jsx(ExpandMoreIcon,{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar__channels\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"channels\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"channels__header\",children:[/*#__PURE__*/_jsx(ExpandMoreIcon,{}),/*#__PURE__*/_jsx(\"h4\",{children:\"\\u30D7\\u30ED\\u30B0\\u30E9\\u30DF\\u30F3\\u30B0\\u30C1\\u30E3\\u30F3\\u30CD\\u30EB\"})]}),/*#__PURE__*/_jsx(AddIcon,{className:\"channels__addicon\",onClick:function onClick(){return addChannel();}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"list\",children:channels.map(function(channel){return/*#__PURE__*/_jsx(SidebarChannel,{channel:channel,id:channel.id},channel.id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"footer__account\",children:[/*#__PURE__*/_jsx(\"img\",{src:user===null||user===void 0?void 0:user.photo,alt:\"\",className:\"footer__img\",onClick:function onClick(){return auth.signOut();}}),/*#__PURE__*/_jsxs(\"div\",{className:\"accountName\",children:[/*#__PURE__*/_jsx(\"h4\",{children:user===null||user===void 0?void 0:user.displayName}),/*#__PURE__*/_jsxs(\"span\",{children:[\"#\",user===null||user===void 0?void 0:user.uid.substring(0,4)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer__voice\",children:[/*#__PURE__*/_jsx(MicIcon,{}),/*#__PURE__*/_jsx(HeadphonesIcon,{}),/*#__PURE__*/_jsx(SettingsIcon,{})]})]})]})]})]});};export default Sidebar;","map":{"version":3,"names":["React","ExpandMoreIcon","AddIcon","SidebarChannel","MicIcon","HeadphonesIcon","SettingsIcon","auth","db","useAppSelector","useCollection","collection","addDoc","jsx","_jsx","jsxs","_jsxs","Sidebar","user","state","_useCollection","channels","documents","addChannel","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","channelName","wrap","_callee$","_context","prev","next","prompt","stop","apply","arguments","className","children","src","alt","onClick","map","channel","id","photo","signOut","displayName","uid","substring"],"sources":["/Users/konami/Desktop/dev/udemy/discord-clone-udemy/src/components/sidebar/Sidebar.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./Sidebar.scss\";\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\nimport AddIcon from \"@mui/icons-material/Add\";\nimport SidebarChannel from \"./SidebarChannel\";\nimport MicIcon from \"@mui/icons-material/Mic\";\nimport HeadphonesIcon from \"@mui/icons-material/Headphones\";\nimport SettingsIcon from \"@mui/icons-material/Settings\";\nimport { auth, db } from \"../../firebase\";\nimport { useAppSelector } from \"../../app/hooks\";\nimport useCollection from \"../../hooks/useCollection\";\nimport { collection, addDoc } from \"firebase/firestore\";\n\nconst Sidebar = () => {\n  const user = useAppSelector((state) => state.user.user);\n  const { documents: channels } = useCollection(\"channels\");\n\n  const addChannel = async () => {\n    let channelName = prompt(\"新しいチャンネルを作成します\");\n\n    if (channelName) {\n      await addDoc(collection(db, \"channels\"), {\n        channelName: channelName,\n      });\n    }\n  };\n  return (\n    <div className=\"sidebar\">\n      {/* sidebarLeft */}\n      <div className=\"sidebar__left\">\n        <div className=\"serverIcon\">\n          <span className=\"serverIcon__span\">\n            <img\n              className=\"serverIcon__img\"\n              src=\"./discordIcon.png\"\n              alt=\"React\"\n            />\n          </span>\n        </div>\n        <div className=\"serverIcon\">\n          <span className=\"serverIcon__span\">\n            <img\n              className=\"serverIcon__img\"\n              src=\"./discordIcon.png\"\n              alt=\"React\"\n            />\n          </span>\n        </div>\n      </div>\n      {/* sidebarRight */}\n      <div className=\"sidebar__right\">\n        <div className=\"sidebar__top\">\n          <h3>Discord</h3>\n          <ExpandMoreIcon />\n        </div>\n\n        <div className=\"sidebar__channels\">\n          <div className=\"channels\">\n            <div className=\"channels__header\">\n              <ExpandMoreIcon />\n              <h4>プログラミングチャンネル</h4>\n            </div>\n            <AddIcon\n              className=\"channels__addicon\"\n              onClick={() => addChannel()}\n            />\n          </div>\n\n          <div className=\"list\">\n            {channels.map((channel) => (\n              <SidebarChannel\n                channel={channel}\n                id={channel.id}\n                key={channel.id}\n              />\n            ))}\n          </div>\n\n          <div className=\"footer\">\n            <div className=\"footer__account\">\n              <img\n                src={user?.photo}\n                alt=\"\"\n                className=\"footer__img\"\n                onClick={() => auth.signOut()}\n              />\n              <div className=\"accountName\">\n                <h4>{user?.displayName}</h4>\n                <span>#{user?.uid.substring(0, 4)}</span>\n              </div>\n            </div>\n\n            <div className=\"footer__voice\">\n              <MicIcon />\n              <HeadphonesIcon />\n              <SettingsIcon />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Sidebar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}